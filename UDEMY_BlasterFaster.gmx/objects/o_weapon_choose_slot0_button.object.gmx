<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_gun_00_avatar</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-1000</depth>
  <persistent>0</persistent>
  <parentName>self</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// initialise the button
image_speed = 0;

//create array of available guns
// Slot [0]
weapons_slot[0] = o_ship_01_Lgun;
weapons_slot[1] = o_ship_02_Lgun;

// initialise the variable for toggling the guns
gun_choice = 0;

// check what is the value and set it
for (i = 0; i &lt; array_length_1d(weapons_slot); i++)
{
    if object_get_name(global.ship.slot[0].object_index) == object_get_name(weapons_slot[i])
    {
            gun_choice = i;
    } else gun_choice += 1;
}


// TESTING
// create the gun stats for the gun
gun_stats = instance_create(x - sprite_width/2, y-sprite_height/2, o_gun_stats);
gun_stats.owner = id;
/*
current_gun = o_ship_new.slot[0];
old_mount_x = o_ship_new.slot[0].mount_x;
old_mount_y = o_ship_new.slot[0].mount_y;
*/
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>o_weapon_choose_slot0_button</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Toggle available weapons

if gun_choice &gt;= array_length_1d(weapons_slot) - 1
{
    gun_choice = 0;
}
else
{
    gun_choice += 1;
}

// destroy if existing gun
if instance_exists(global.ship.slot[0])
{
    with(global.ship.slot[0])
    {
        instance_destroy();
    }
}

// now attach the weapon    
//add_weapon(o_ship_new, weapons_slot[gun_choice], 0);

// TESTING
//global.ship.slot[0] = instance_create(global.ship.ship_mount_x[0], global.ship.ship_mount_y[0], weapons_slot[gun_choice]);
//global.ship.slot[0].gun_slot_id = 0;
add_weapon(weapons_slot[gun_choice], 0);
global.ship.slot[0].damage;

add these to the gun properties as well !!!

damage = 1;
ammo = 500;
recharge_time = 0;
fire_rate = .25;
price = 150;
energy_consumption = 25;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Set the image
image_index = gun_choice;
draw_self();
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
